# LLM ì¶”ë¡  ì„±ëŠ¥ í‰ê°€ ì‹œìŠ¤í…œ

Oracle ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ ëŒ€ê·œëª¨ LLM(Large Language Model) ì¶”ë¡  ì„±ëŠ¥ í‰ê°€ ì‹œìŠ¤í…œì…ë‹ˆë‹¤. 
ìˆ˜í•™, ë…¼ë¦¬, ìƒì‹, ë…í•´, ê³¼í•™ ë“± ë‹¤ì–‘í•œ ì˜ì—­ì˜ ë¬¸ì œë¥¼ í†µí•´ ëª¨ë¸ì˜ ì¶”ë¡  ëŠ¥ë ¥ì„ ì²´ê³„ì ìœ¼ë¡œ ì¸¡ì •í•˜ê³  ë¶„ì„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸŒŸ ì£¼ìš” ê¸°ëŠ¥

### ğŸ“Š ë°ì´í„° ê´€ë¦¬
- **ë‹¤ì–‘í•œ ë°ì´í„° ì†ŒìŠ¤ ì§€ì›**: GSM8K, HellaSwag, ARC, í•œêµ­ì–´ ë°ì´í„°ì…‹
- **ë°°ì¹˜ ì²˜ë¦¬ ìµœì í™”**: ëŒ€ìš©ëŸ‰ ë°ì´í„° íš¨ìœ¨ì  ì²˜ë¦¬ (ì ì‘ì  ë°°ì¹˜ í¬ê¸°)
- **ë°ì´í„° ê²€ì¦**: ìë™ ë°ì´í„° í’ˆì§ˆ ê²€ì‚¬ ë° ì •ë¦¬
- **ë°±ì—…/ë³µì›**: ë°ì´í„° ì•ˆì „ì„± ë³´ì¥

### ğŸ¯ í‰ê°€ ì‹œìŠ¤í…œ
- **ê· í˜•ì¡íŒ í…ŒìŠ¤íŠ¸ì…‹**: ì¹´í…Œê³ ë¦¬ë³„, ë‚œì´ë„ë³„ ê· ë“± ë¶„ë°°
- **ì‹¤ì‹œê°„ í‰ê°€**: ëª¨ë¸ ì‘ë‹µ ì‹œê°„ ë° ì •í™•ë„ ì¸¡ì •
- **ë‹¤ì–‘í•œ ì§€í‘œ**: ì •í™•ë„, ì¹´í…Œê³ ë¦¬ë³„ ì„±ëŠ¥, ì‹¤í–‰ ì‹œê°„ ë¶„ì„
- **ë¹„êµ ë¶„ì„**: ì—¬ëŸ¬ ëª¨ë¸ ê°„ ì„±ëŠ¥ ë¹„êµ

### ğŸš€ ì„±ëŠ¥ ìµœì í™”
- **ë©”ëª¨ë¦¬ ê´€ë¦¬**: ì ì‘ì  ë©”ëª¨ë¦¬ ì •ë¦¬ ë° ëª¨ë‹ˆí„°ë§
- **ë³‘ë ¬ ì²˜ë¦¬**: ë©€í‹°ìŠ¤ë ˆë“œ ë°°ì¹˜ ì²˜ë¦¬
- **ì¿¼ë¦¬ ìµœì í™”**: Oracle íŒíŠ¸ í™œìš© ë° ì¸ë±ìŠ¤ ìµœì í™”
- **ìºì‹±**: ì¿¼ë¦¬ ê²°ê³¼ ìºì‹±ìœ¼ë¡œ ì„±ëŠ¥ í–¥ìƒ

### ğŸ“ˆ ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…
- **êµ¬ì¡°í™”ëœ ë¡œê¹…**: JSON í˜•íƒœì˜ ìƒì„¸ ë¡œê·¸
- **ì‹¤ì‹œê°„ ì•Œë¦¼**: ì—ëŸ¬ìœ¨, ì„±ëŠ¥ ì„ê³„ê°’ ëª¨ë‹ˆí„°ë§
- **ì„±ëŠ¥ ì¶”ì **: í•¨ìˆ˜ë³„ ì‹¤í–‰ ì‹œê°„ ë° ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰
- **ë¡œê·¸ ë¶„ì„**: íŒ¨í„´ ë¶„ì„ ë° ë¦¬í¬íŠ¸ ìƒì„±

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Data Loaders  â”‚    â”‚  Evaluation     â”‚    â”‚   Monitoring    â”‚
â”‚                 â”‚    â”‚    Engine       â”‚    â”‚    System       â”‚
â”‚ â€¢ GSM8K         â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ â€¢ HellaSwag     â”‚â”€â”€â”€â”€â”¤ â€¢ Model Eval    â”‚â”€â”€â”€â”€â”¤ â€¢ Logging       â”‚
â”‚ â€¢ ARC           â”‚    â”‚ â€¢ Metrics       â”‚    â”‚ â€¢ Alerting      â”‚
â”‚ â€¢ Korean Data   â”‚    â”‚ â€¢ Comparison    â”‚    â”‚ â€¢ Analytics     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Core System    â”‚
                    â”‚                 â”‚
                    â”‚ â€¢ Data Models   â”‚
                    â”‚ â€¢ DB Manager    â”‚
                    â”‚ â€¢ Optimizer     â”‚
                    â”‚ â€¢ Collector     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Oracle Database â”‚
                    â”‚                 â”‚
                    â”‚ â€¢ Reasoning Dataâ”‚
                    â”‚ â€¢ Eval Results  â”‚
                    â”‚ â€¢ Statistics    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ› ï¸ ì„¤ì¹˜ ë° ì„¤ì •

### 1. í™˜ê²½ ìš”êµ¬ì‚¬í•­
```bash
Python 3.8+
Oracle Database 12c+
ìµœì†Œ 4GB RAM (ê¶Œì¥ 8GB+)
```

### 2. íŒ¨í‚¤ì§€ ì„¤ì¹˜
```bash
pip install -r requirements.txt
```

### 3. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
```bash
# ì„¤ì • íŒŒì¼ ìƒì„±
cp config/db_config.json.example config/db_config.json
# db_config.json í¸ì§‘í•˜ì—¬ ì‹¤ì œ DB ì •ë³´ ì…ë ¥

# ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™”
python scripts/init_database.py
```

### 4. ê¸°ë³¸ ì„¤ì • í™•ì¸
```bash
# ì—°ê²° í…ŒìŠ¤íŠ¸
python -c "from core.database_config import load_db_config_from_file, DatabaseManager; 
config = load_db_config_from_file('config/db_config.json');
db = DatabaseManager(config);
print('DB ì—°ê²°:', db.db_config.test_connection())"
```

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### ê¸°ë³¸ ì‚¬ìš©ë²•
```python
from main import ReasoningEvaluationSystem
from core.database_config import load_db_config_from_file

# ì‹œìŠ¤í…œ ì´ˆê¸°í™”
db_config = load_db_config_from_file("config/db_config.json")
system = ReasoningEvaluationSystem(db_config)

# ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
system.setup_database()

# ìƒ˜í”Œ ë°ì´í„° ë¡œë“œ
results = system.load_sample_data()
print(f"ë¡œë“œëœ ë°ì´í„°: {sum(results.values())}ê°œ")

# ëª¨ë¸ í‰ê°€ ì‹¤í–‰
def my_model(prompt):
    # ì—¬ê¸°ì— ì‹¤ì œ LLM ëª¨ë¸ í˜¸ì¶œ ì½”ë“œ ì‘ì„±
    return "model_response"

eval_results = system.evaluator.evaluate_model(
    model_name="my_model_v1",
    evaluation_set=system.evaluator.create_evaluation_set(test_size=50),
    model_function=my_model
)

print(f"ì •í™•ë„: {eval_results['accuracy']:.2%}")
```

### ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬
```python
from core.performance_optimizer import OptimizedDataProcessor
from core.data_collector import ReasoningDatasetCollector

# ìµœì í™”ëœ í”„ë¡œì„¸ì„œ ì‚¬ìš©
processor = OptimizedDataProcessor(db_manager, batch_size=2000)

# ëŒ€ëŸ‰ ë°ì´í„° ì²˜ë¦¬
large_dataset = [...]  # ëŒ€ëŸ‰ì˜ ReasoningDataPoint ê°ì²´ë“¤
result = processor.process_large_dataset(large_dataset, process_func)
```

### ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
```python
from monitoring.logging_system import LogMonitor, setup_application_logging

# ë¡œê¹… ì‹œìŠ¤í…œ ì„¤ì •
setup_application_logging({
    'log_level': 'INFO',
    'log_format': 'structured',
    'log_file': 'logs/application.log'
})

# ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ì‹œì‘
monitor = LogMonitor('logs/application.log')
monitor.monitor_realtime()  # ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰
```

## ğŸ“Š ë°ì´í„° í˜•ì‹

### ì¶”ë¡  ë°ì´í„° í¬ì¸íŠ¸
```python
from core.data_models import ReasoningDataPoint

data_point = ReasoningDataPoint(
    id="unique_id",
    category="math",           # math, logic, common_sense, reading_comprehension, science
    difficulty="medium",       # easy, medium, hard
    question="2 + 2 = ?",
    correct_answer="4",
    explanation="2ì™€ 2ë¥¼ ë”í•˜ë©´ 4ì…ë‹ˆë‹¤.",
    options=["2", "3", "4", "5"],  # ê°ê´€ì‹ì¸ ê²½ìš°
    source="gsm8k",
    metadata={"type": "arithmetic"}
)
```

### í‰ê°€ ê²°ê³¼
```python
{
    "total_questions": 100,
    "correct_answers": 85,
    "accuracy": 0.85,
    "category_accuracy": {
        "math": {"accuracy": 0.90, "correct": 18, "total": 20},
        "logic": {"accuracy": 0.80, "correct": 16, "total": 20}
    },
    "difficulty_accuracy": {
        "easy": {"accuracy": 0.95, "correct": 19, "total": 20},
        "medium": {"accuracy": 0.85, "correct": 17, "total": 20},
        "hard": {"accuracy": 0.75, "correct": 15, "total": 20}
    },
    "average_execution_time": 1.25,
    "evaluation_date": "2024-01-01T10:00:00"
}
```

## ğŸ¯ ì§€ì›í•˜ëŠ” ë°ì´í„°ì…‹

### ìˆ˜í•™ (Math)
- **GSM8K**: ì´ˆë“±í•™êµ ìˆ˜ì¤€ ìˆ˜í•™ ë¬¸ì œ
- **ê¸°í•˜í•™**: ë„í˜•, ë„“ì´, ë¶€í”¼ ê³„ì‚°
- **ëŒ€ìˆ˜í•™**: ë°©ì •ì‹, í•¨ìˆ˜

### ë…¼ë¦¬ (Logic)  
- **ì‚¼ë‹¨ë…¼ë²•**: ë…¼ë¦¬ì  ì¶”ë¡ 
- **ì¡°í•©ë¡ **: ìˆœì—´, ì¡°í•© ë¬¸ì œ
- **íŒ¨í„´ ì¸ì‹**: ê·œì¹™ ì°¾ê¸°

### ìƒì‹ (Common Sense)
- **HellaSwag**: ìƒí™© ì¶”ë¡ 
- **ì¼ìƒ ìƒì‹**: ë¬¼ë¦¬ ë²•ì¹™, ì‚¬íšŒ ê·œë²”
- **í•œêµ­ ë¬¸í™”**: í•œêµ­ íŠ¹í™” ìƒì‹

### ë…í•´ (Reading Comprehension)
- **ì£¼ì œ íŒŒì•…**: ê¸€ì˜ ìš”ì§€, ì£¼ì¥
- **ì„¸ë¶€ ì •ë³´**: êµ¬ì²´ì  ë‚´ìš© ì´í•´
- **ì¶”ë¡ **: í–‰ê°„ì˜ ì˜ë¯¸

### ê³¼í•™ (Science)
- **ARC Challenge**: ê³¼í•™ì  ì¶”ë¡ 
- **ë¬¼ë¦¬, í™”í•™, ìƒë¬¼**: ê¸°ë³¸ ê³¼í•™ ì§€ì‹
- **ì˜í•™**: ê¸°ì´ˆ ì˜í•™ ìƒì‹

## ğŸ”§ ê³ ê¸‰ ê¸°ëŠ¥

### 1. ì»¤ìŠ¤í…€ í‰ê°€ ì§€í‘œ ì¶”ê°€
```python
def custom_metric(predictions, ground_truth, metadata):
    """ì»¤ìŠ¤í…€ í‰ê°€ ì§€í‘œ í•¨ìˆ˜"""
    # ì‚¬ìš©ì ì •ì˜ í‰ê°€ ë¡œì§
    return score

# í‰ê°€ ì‹œìŠ¤í…œì— ì¶”ê°€
evaluator.add_custom_metric("my_metric", custom_metric)
```

### 2. ë³‘ë ¬ ì²˜ë¦¬ ìµœì í™”
```python
from core.performance_optimizer import ParallelProcessor

processor = ParallelProcessor(max_workers=8)
result = processor.process_parallel_batches(batches, process_func)
```

### 3. ì‹¤ì‹œê°„ ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
```python
from monitoring.logging_system import log_performance

@log_performance()
def my_model_function(prompt):
    # ëª¨ë¸ ì‹¤í–‰ ì‹œê°„ê³¼ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ìë™ìœ¼ë¡œ ë¡œê¹…ë¨
    return model_response
```

### 4. ë°ì´í„° í’ˆì§ˆ ê´€ë¦¬
```python
# ë°ì´í„° í’ˆì§ˆ ë¦¬í¬íŠ¸ ìƒì„±
quality_report = collector.get_data_quality_report()

# ì¤‘ë³µ ë°ì´í„° ì •ë¦¬
optimization_results = collector.optimize_storage()

# ì˜¤ë˜ëœ ë°ì´í„° ì •ë¦¬
cleaned_count = collector.cleanup_old_data(days_old=30)
```

## ğŸ“ˆ ì„±ëŠ¥ ìµœì í™” ê°€ì´ë“œ

### ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™”
```python
from core.performance_optimizer import IndexOptimizer

# ë³µí•© ì¸ë±ìŠ¤ ìƒì„±
optimizer = IndexOptimizer(db_manager)
optimizer.create_composite_indexes()

# í…Œì´ë¸” í†µê³„ ê°±ì‹   
optimizer.analyze_table_statistics()
```

### ë©”ëª¨ë¦¬ ê´€ë¦¬
```python
from core.performance_optimizer import MemoryManager

memory_manager = MemoryManager(memory_threshold_percent=80.0)

# ìë™ ë©”ëª¨ë¦¬ ì •ë¦¬
memory_manager.cleanup_if_needed()

# ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì²´í¬
memory_info = memory_manager.check_memory_usage()
```

### ë°°ì¹˜ í¬ê¸° ìµœì í™”
```python
from core.performance_optimizer import BatchOptimizer

optimizer = BatchOptimizer()

# ì‹œìŠ¤í…œ ìƒí™©ì— ë”°ë¥¸ ì ì‘ì  ë°°ì¹˜ í¬ê¸°
optimal_size = optimizer.adaptive_batch_size(total_items=10000)
```

## ğŸ“‹ API ì°¸ì¡°

### ì£¼ìš” í´ë˜ìŠ¤

#### ReasoningDatasetCollector
```python
# ë°ì´í„° ì¶”ê°€
collector.add_data_point(data_point)
collector.add_batch_data_points(data_points)

# ë°ì´í„° ì¡°íšŒ
data = collector.get_data(category="math", difficulty="easy", limit=100)
item = collector.get_data_by_id("data_id")

# ë°ì´í„° ë‚´ë³´ë‚´ê¸°/ê°€ì ¸ì˜¤ê¸°
collector.export_to_json("export.json")
collector.load_from_json("import.json")

# í†µê³„ ì •ë³´
stats = collector.get_statistics()
```

#### ReasoningEvaluator
```python
# í‰ê°€ ë°ì´í„°ì…‹ ìƒì„±
eval_set = evaluator.create_evaluation_set(test_size=100, balance_categories=True)

# ëª¨ë¸ í‰ê°€
results = evaluator.evaluate_model(model_name, eval_set, model_function)

# ì„±ëŠ¥ ë¹„êµ
comparison = evaluator.compare_models(["model1", "model2"])
```

#### ExternalDatasetLoader
```python
# ì™¸ë¶€ ë°ì´í„°ì…‹ ë¡œë“œ
loader.load_gsm8k_sample()
loader.load_arc_sample()
loader.load_korean_datasets()

# ëª¨ë“  ìƒ˜í”Œ ë¡œë“œ
results = loader.load_all_samples()
```

## ğŸ§ª í…ŒìŠ¤íŠ¸

### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
```bash
python -m pytest tests/test_data_collector.py -v
```

### í†µí•© í…ŒìŠ¤íŠ¸ ì‹¤í–‰
```bash
python -m pytest tests/test_integration.py -v
```

### ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
```bash
python -m pytest tests/ -v --cov=core --cov=evaluation --cov=data_loaders
```

## ğŸš¨ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ì¼ë°˜ì ì¸ ë¬¸ì œë“¤

#### 1. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹¤íŒ¨
```bash
# ì—°ê²° í…ŒìŠ¤íŠ¸
python -c "from core.database_config import load_db_config_from_file, DatabaseManager; 
config = load_db_config_from_file('config/db_config.json');
print('Config loaded:', config.test_connection())"
```

#### 2. ë©”ëª¨ë¦¬ ë¶€ì¡± ì˜¤ë¥˜
```python
# ë°°ì¹˜ í¬ê¸° ì¡°ì •
collector = ReasoningDatasetCollector(db_manager, batch_size=500)  # ê¸°ë³¸ê°’ 1000ì—ì„œ ê°ì†Œ
```

#### 3. ì„±ëŠ¥ ì €í•˜
```python
# ì¿¼ë¦¬ ìºì‹œ ì •ë¦¬
query_optimizer.clear_query_cache()

# ì¸ë±ìŠ¤ í†µê³„ ê°±ì‹ 
index_optimizer.analyze_table_statistics()
```

#### 4. ë¡œê·¸ íŒŒì¼ ìš©ëŸ‰ ì¦ê°€
```python
# ë¡œê·¸ ì •ë¦¬ ë° ì••ì¶•
from monitoring.logging_system import LogRotationManager

rotation_manager = LogRotationManager("logs", max_age_days=30)
rotation_manager.cleanup_old_logs()
rotation_manager.compress_old_logs()
```

### ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§

#### ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ ì²´í¬
```python
from core.performance_optimizer import MemoryManager

memory_manager = MemoryManager()
memory_info = memory_manager.check_memory_usage()
print(f"ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ : {memory_info['system_memory_percent']:.1f}%")
```

#### ë¡œê·¸ ë¶„ì„
```python
from monitoring.logging_system import LogAnalyzer

analyzer = LogAnalyzer('logs/application.log')
summary = analyzer.generate_log_summary(hours=24)
print(f"ì—ëŸ¬ìœ¨: {summary['error_rate']:.2%}")
```
---